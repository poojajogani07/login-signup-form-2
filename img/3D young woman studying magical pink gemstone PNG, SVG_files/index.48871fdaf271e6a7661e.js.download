(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1383:function(e,t,r){var content=r(1387);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(11).default)("76eebff0",content,!0,{sourceMap:!1})},1386:function(e,t,r){"use strict";r(1383)},1387:function(e,t,r){var n=r(10)((function(i){return i[1]}));n.push([e.i,".ouch__intersection-observer{display:flex;flex-direction:column;height:100%;width:100%}.ouch__intersection-observer-trigger{align-items:center;display:flex;flex-grow:1;justify-content:center;padding:0;width:100%}.ouch__intersection-observer .loader{margin:0 auto}",""]),n.locals={},e.exports=n},1392:function(e,t,r){"use strict";var n=r(80),o={name:"IntersectionObserver",props:{displayLoader:{type:Boolean,default:!0}},data:function(){return{intersectionObserver:null}},mounted:function(){var e=this;this.intersectionObserver=new IntersectionObserver((function(){e.debouncedEmit()}),{rootMargin:"0px",threshold:1}),this.intersectionObserver.observe(this.$refs.iotrigger)},methods:{debouncedEmit:r.n(n).a.debounce((function(){this.displayLoader&&this.$emit("infinite")}),300,{leading:!0,trailing:!1})},beforeDestroy:function(){this.intersectionObserver.disconnect()}},c=(r(1386),r(3)),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"ouch__intersection-observer"},[e._t("default"),t("div",{ref:"iotrigger",staticClass:"ouch__intersection-observer-trigger"},[e.displayLoader?t("ouch-loader",{attrs:{size:24,width:2}}):e._e()],1)],2)}),[],!1,null,null,null);t.a=component.exports},1396:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r(15),r(12),r(13),r(6),r(18),r(14),r(19);var n=r(4),o=r(7);r(44);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function d(e){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,y,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.app,o=t.store,c=t.perPage,d=[],y={page:1,per_page:void 0===c?4:c},e.prev=3,e.next=6,o.dispatch("cache/get",{key:l(l({},y),{},{keyType:"style-sets"})});case 6:if(!(h=e.sent)){e.next=11;break}d=h,e.next=15;break;case 11:return e.next=13,n.$setsRepository.index(y);case 13:d=e.sent,o.dispatch("cache/set",{key:l(l({},y),{},{keyType:"style-sets"}),value:d});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.error(e.t0);case 20:return e.abrupt("return",(null===(r=d)||void 0===r?void 0:r.sets)||[]);case 21:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}},1427:function(e,t,r){var content=r(1505);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(11).default)("a9bd68ea",content,!0,{sourceMap:!1})},1428:function(e,t,r){var content=r(1507);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(11).default)("54e44a3c",content,!0,{sourceMap:!1})},1504:function(e,t,r){"use strict";r(1427)},1505:function(e,t,r){var n=r(10)((function(i){return i[1]}));n.push([e.i,".ouch-styles-dropdown[data-v-09d11729]{margin-bottom:32px;max-width:240px}@media(max-width:695px){.ouch-styles-dropdown[data-v-09d11729]{max-width:100vw}}.ouch-styles-dropdown[data-v-09d11729] .active-item{padding:8px}.ouch-styles-dropdown[data-v-09d11729] .dropdown-item .icon{display:block}.ouch-styles-dropdown[data-v-09d11729] .dropdown-content{overflow-y:scroll;scrollbar-width:none}.ouch-styles-dropdown[data-v-09d11729] .dropdown-content::-webkit-scrollbar{display:none}.ouch-styles-dropdown__title-icon[data-v-09d11729]{height:24px;margin-right:8px;width:24px}.ouch-styles-dropdown__title-wrapper[data-v-09d11729]{align-items:center;display:flex}",""]),n.locals={},e.exports=n},1506:function(e,t,r){"use strict";r(1428)},1507:function(e,t,r){var n=r(10)((function(i){return i[1]}));n.push([e.i,".styles-page[data-v-4d1d30b4]{padding:80px 140px 56px;width:100%}@media(max-width:1440px){.styles-page[data-v-4d1d30b4]{padding-left:32px;padding-right:32px}}@media(max-width:920px){.styles-page[data-v-4d1d30b4]{padding-left:20px;padding-right:20px}}.styles-page hr[data-v-4d1d30b4]{background:rgba(0,0,0,.08);height:1px;margin:113px 0 112px;width:100%}.styles-page .seo-header[data-v-4d1d30b4]{margin-bottom:48px}.styles-page[data-v-4d1d30b4] .ouch__intersection-observer{position:relative}.styles-page[data-v-4d1d30b4] .ouch__intersection-observer-trigger{bottom:20%;position:absolute}.styles-page[data-v-4d1d30b4] .ouch-loader{opacity:0}",""]),n.locals={},e.exports=n},1613:function(e,t,r){"use strict";r.r(t);r(15),r(12),r(13),r(6),r(18),r(14),r(19);var n=r(9),o=r(4),c=r(7),l=(r(17),r(44),r(25)),d=r(1392),y=r(1396),h=(r(92),r(676)),f={name:"OuchStyleCard",components:{OuchDropdown:h.a},data:function(){return{forceDropdownClose:!1,page:0,styles:[],total:0}},computed:{formattedStyles:function(){return Object(n.a)(this.styles).sort((function(a,b){return a.title.localeCompare(b.title)}))}},mounted:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getStyles();case 2:r=t.sent,o=r.styles,c=r.total,e.styles=[].concat(Object(n.a)(e.styles),Object(n.a)(o)),e.total=c,e.page++;case 8:if(e.styles.length<e.total){t.next=0;break}case 9:case"end":return t.stop()}}),t)})))()},methods:{getStyles:function(){var e=this;return new Promise(function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(r){var n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$stylesRepository.index({fields:"styles(title,pretty_id), total",page:e.page+1,per_page:100});case 3:n=t.sent,o=n.styles,c=n.total,r({styles:o,total:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({styles:[],total:0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())},onSelect:function(style){this.forceDropdownClose=!this.forceDropdownClose,this.$router.push("/illustrations/style--".concat(style.pretty_id))}}},v=f,m=(r(1504),r(3)),component=Object(m.a)(v,(function(){var e=this,t=e._self._c;return t("ouch-dropdown",{staticClass:"ouch-styles-dropdown",attrs:{"force-close":e.forceDropdownClose},scopedSlots:e._u([{key:"active",fn:function(){return[t("div",{staticClass:"ouch-styles-dropdown__title-wrapper"},[t("div",{staticClass:"ouch-styles-dropdown__title-icon",domProps:{innerHTML:e._s(e.$icons["search-dark"])}}),t("div",{staticClass:"ouch-styles-dropdown__title"},[e._v("Alphabetic list of styles")])])]},proxy:!0},{key:"content",fn:function(){return e._l(e.formattedStyles,(function(style,r){return t("div",{key:style.pretty_id,staticClass:"dropdown-item",on:{click:function(t){return e.onSelect(style)}}},[t("a",{attrs:{href:"/illustrations/style--".concat(style.pretty_id)},on:{click:function(e){return e.preventDefault(),function(){}.apply(null,arguments)}}},[e._v(e._s(style.title))]),t("div",{staticClass:"icon",domProps:{innerHTML:e._s(e.$icons.external)}})])}))},proxy:!0}])})}),[],!1,null,"09d11729",null),w=component.exports;function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _={name:"StylesPage",components:{OuchStylesDropdown:w,ouchIntersectionObserver:d.a},layout:"content",asyncData:function(e){return Object(c.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,n=e.app,o=[],t.prev=2,t.next=5,Object(y.a)({app:n,store:r,perPage:16});case 5:o=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.log("cannot get stylesets");case 11:return r.dispatch("updateSEO",{title:n.i18n.t("OUCH_V2.SEO.INDEX.TITLE"),description:n.i18n.t("OUCH_V2.SEO.INDEX.DESCRIPTION"),image:"".concat("https://maxst.icons8.com","/vue-static/ouch/seo/opengraph.png")}),t.abrupt("return",{stylesets:o});case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))()},data:function(){return{styles:{items:[],loading:!1,page:0,total:0}}},computed:x(x({},Object(l.e)({user:function(e){return e.auth.user}})),{},{canLoadMore:function(){return this.styles.total>this.styles.items.length},isAdmin:function(){var e;return null===(e=this.user)||void 0===e?void 0:e.isAdmin}}),mounted:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("updateSEO",{title:e.$i18n.t("OUCH_V2.CURATED_SETS_LIST.SEO.MAIN_PAGE.TITLE"),description:e.$i18n.t("OUCH_V2.CURATED_SETS_LIST.SEO.MAIN_PAGE.DESCRIPTION"),image:"".concat("https://maxst.icons8.com","/vue-static/ouch/seo/opengraph.png")});case 2:e.loadMoreStyles();case 3:case"end":return t.stop()}}),t)})))()},methods:{loadMoreStyles:function(){this.styles.loading||this.fetchStyles({retry:!0})},fetchStyles:function(){var e=arguments,t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var o,c,l,d,y,h,f,v;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=(e.length>0&&void 0!==e[0]?e[0]:{}).retry,c=void 0!==o&&o,t.styles.page++,l={illustrations_count:3,page:t.styles.page,per_page:9},t.styles.loading=!0,r.prev=4,r.next=7,t.$store.dispatch("cache/get",{key:x(x({},l),{},{keyType:"styles-previews"})});case 7:if(!(y=r.sent)){r.next=12;break}d=x({},y),r.next=16;break;case 12:return r.next=14,t.$stylesRepository.index(l,"previews");case 14:d=r.sent,t.$store.dispatch("cache/set",{key:x(x({},l),{},{keyType:"styles-previews"}),value:d});case 16:f=(h=d).total,v=h.styles,t.styles.total=f,t.styles.items=[].concat(Object(n.a)(t.styles.items),Object(n.a)(v)),c&&t.fetchStyles(),r.next=25;break;case 22:r.prev=22,r.t0=r.catch(4),console.log("cannot get styles previews");case 25:return r.prev=25,t.styles.loading=!1,r.finish(25);case 28:case"end":return r.stop()}}),r,null,[[4,22,25,28]])})))()}}},j=_,S=(r(1506),Object(m.a)(j,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"styles-page container"},[e.stylesets.length?[t("ouch-seo-header",{attrs:{description:e.$t("OUCH.STYLES.STYLEPAGE_DESCRIPTION"),title:e.$t("OUCH_V2.HEADER.STYLES")}})]:[t("div",{staticClass:"placeholder-header placeholder-header--styles"}),t("div",{staticClass:"placeholder-header placeholder-header--styles-text"})],t("ouch-stylesets",{attrs:{stylesets:e.stylesets}}),t("hr"),t("client-only",[t("ouch-intersection-observer",{attrs:{"display-loader":e.canLoadMore},on:{infinite:e.loadMoreStyles}},[e.isAdmin?t("ouch-styles-dropdown"):e._e(),t("ouch-styles",{attrs:{styles:e.styles.items}})],1)],1)],2)}),[],!1,null,"4d1d30b4",null));t.default=S.exports}}]);
//# sourceMappingURL=index.48871fdaf271e6a7661e.js.map